---
title: "Indices d'humiditÃ© topographique"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Indices d'humiditÃ© topographique}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
library(rgeoag)
library(terra)
library(sf)
library(ggplot2)
```

## ğŸ’§ Pourquoi modÃ©liser l'humiditÃ© du sol ?

La rÃ©partition de lâ€™humiditÃ© dans un champ a un impact direct sur :
- la croissance des cultures,
- la vulnÃ©rabilitÃ© Ã  la compaction et Ã  lâ€™Ã©rosion,
- la prÃ©cision des recommandations en irrigation et drainage.

Lâ€™indice dâ€™humiditÃ© topographique (TWI), lâ€™accumulation, les dÃ©pressions et les formes du terrain sont autant dâ€™indicateurs utiles issus du LiDAR.

---

## ğŸ—‚ï¸ Chargement de la parcelle d'exemple

```{r}
champ <- champs_exemple |> dplyr::slice(1) |> sf::st_sf() |> st_utm()
plot(st_geometry(champ))
```

---

## ğŸ“¥ TÃ©lÃ©chargement du LiDAR

```{r}
r_lidar <- lidar(champ, recent = TRUE)[[1]]
```

---

## ğŸ“Š Calcul des indices topographiques

```{r}
topo <- indice_humidite(r_lidar)
```

---

## ğŸ–¼ï¸ Visualisation

```{r}
plot(topo)
```

---

## ğŸ§  InterprÃ©tation

- **TWI** : identifie les zones de convergence de lâ€™eau (risques dâ€™engorgement, drainage faible).
- **Accumulation** : reprÃ©sente les zones de collecte dâ€™Ã©coulement.
- **DÃ©pressions** : points bas oÃ¹ lâ€™eau stagne naturellement.
- **Geomorphons** : classification des formes de terrain (crÃªte, cuvette, etc.).

Ces donnÃ©es peuvent Ãªtre intÃ©grÃ©es dans des modÃ¨les prÃ©dictifs de rendement ou des outils de zonage de gestion de lâ€™eau.

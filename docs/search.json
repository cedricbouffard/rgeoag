[{"path":"/articles/Grille.html","id":"objectif","dir":"Articles","previous_headings":"","what":"🎯 Objectif","title":"Grilles orientées en agriculture de précision","text":"Les grilles orientées sont un outil essentiel pour organiser l’espace agricole en unités d’échantillonnage, de traitement ou d’observation. Elles facilitent la planification des opérations sur le terrain en suivant l’orientation dominante des champs.","code":""},{"path":"/articles/Grille.html","id":"exemple-1-grille-de-base-avec-orientation-automatique","dir":"Articles","previous_headings":"","what":"🗂️ Exemple 1 : Grille de base avec orientation automatique","title":"Grilles orientées en agriculture de précision","text":"Ce premier exemple génère une grille avec largeur et longueur spécifiées. L’orientation est déduite automatiquement selon l’axe dominant du champ.  📌 Utilisation typique : structuration régulière pour un plan d’échantillonnage ou une prescription uniforme.","code":"champ <- champs_exemple |> dplyr::slice(1) |> sf::st_sf() |> st_utm() #> although coordinates are longitude/latitude, st_union assumes that they are #> planar #> Warning in st_centroid.sfc(sf::st_transform(sf::st_union(x), 4326)): #> st_centroid does not give correct centroids for longitude/latitude data grille1 <- st_grille(champ, largeur = 100, longueur = 300) #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries plot(grille1)"},{"path":"/articles/Grille.html","id":"exemple-2-grille-avec-angle-spécifié-manuellement","dir":"Articles","previous_headings":"","what":"🔄 Exemple 2 : Grille avec angle spécifié manuellement","title":"Grilles orientées en agriculture de précision","text":"peut forcer un angle d’orientation personnalisé, par exemple pour s’aligner sur une route ou une structure de drainage existante.  📐 Permet d’ajuster l’alignement à une infrastructure réelle, même si elle ne correspond pas à l’orientation naturelle du champ.","code":"grille2 <- st_grille(champ, largeur = 100, longueur = 300, angle = 45) #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries plot(grille2)"},{"path":"/articles/Grille.html","id":"exemple-3-grille-numérotée-depuis-un-coin-spécifique","dir":"Articles","previous_headings":"","what":"📍 Exemple 3 : Grille numérotée depuis un coin spécifique","title":"Grilles orientées en agriculture de précision","text":"peut choisir le coin d’origine de la numérotation (, , SE, NE). Ici, l’origine est en coin nord-ouest.  🧭 Utile pour aligner la grille à la logique opérationnelle du producteur (ex. : toujours commencer au coin nord-ouest).","code":"grille3 <- st_grille(champ, largeur = 100, longueur = 300, coin = \"NO\") #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries plot(grille3)"},{"path":"/articles/Grille.html","id":"exemple-4-grille-en-quinconce","dir":"Articles","previous_headings":"","what":"➕ Exemple 4 : Grille en quinconce","title":"Grilles orientées en agriculture de précision","text":"Le mode quinconce = TRUE décale une ligne sur deux horizontalement, ce qui permet une couverture plus uniforme dans certains cas (ex. : échantillonnage représentatif).","code":"grille4 <- st_grille(champ, largeur = 100, longueur = 300, quinconce = TRUE) #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries plot(grille4)"},{"path":"/articles/Grille.html","id":"exemple-5-extraire-les-centroïdes-au-lieu-des-polygones","dir":"Articles","previous_headings":"","what":"🔘 Exemple 5 : Extraire les centroïdes au lieu des polygones","title":"Grilles orientées en agriculture de précision","text":"Si points = TRUE, la grille retourne des points (centroïdes) plutôt que des polygones.  🎯 Adapté pour un échantillonnage ponctuel ou la définition de points de contrôle GPS.","code":"grille_pts <- st_grille(champ, largeur = 100, longueur = 300, points = TRUE) #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries #> Warning: st_centroid assumes attributes are constant over geometries plot(grille_pts)"},{"path":"/articles/humidite.html","id":"pourquoi-modéliser-lhumidité-du-sol","dir":"Articles","previous_headings":"","what":"💧 Pourquoi modéliser l’humidité du sol ?","title":"Indices d'humidité topographique","text":"La répartition de l’humidité dans un champ un impact direct sur : - la croissance des cultures, - la vulnérabilité à la compaction et à l’érosion, - la précision des recommandations en irrigation et drainage. L’indice d’humidité topographique (TWI), l’accumulation, les dépressions et les formes du terrain sont autant d’indicateurs utiles issus du LiDAR.","code":""},{"path":"/articles/humidite.html","id":"chargement-de-la-parcelle-dexemple","dir":"Articles","previous_headings":"","what":"🗂️ Chargement de la parcelle d’exemple","title":"Indices d'humidité topographique","text":"","code":"champ <- champs_exemple |> dplyr::slice(1) |> sf::st_sf() |> st_utm() plot(st_geometry(champ))"},{"path":"/articles/humidite.html","id":"téléchargement-du-lidar","dir":"Articles","previous_headings":"","what":"📥 Téléchargement du LiDAR","title":"Indices d'humidité topographique","text":"","code":"r_lidar <- lidar(champ, recent = TRUE)[[1]]"},{"path":"/articles/humidite.html","id":"calcul-des-indices-topographiques","dir":"Articles","previous_headings":"","what":"📊 Calcul des indices topographiques","title":"Indices d'humidité topographique","text":"","code":"topo <- indice_humidite(r_lidar)"},{"path":"/articles/humidite.html","id":"visualisation","dir":"Articles","previous_headings":"","what":"🖼️ Visualisation","title":"Indices d'humidité topographique","text":"","code":"plot(topo)"},{"path":"/articles/humidite.html","id":"interprétation","dir":"Articles","previous_headings":"","what":"🧠 Interprétation","title":"Indices d'humidité topographique","text":"TWI : identifie les zones de convergence de l’eau (risques d’engorgement, drainage faible). Accumulation : représente les zones de collecte d’écoulement. Dépressions : points bas où l’eau stagne naturellement. Geomorphons : classification des formes de terrain (crête, cuvette, etc.). Ces données peuvent être intégrées dans des modèles prédictifs de rendement ou des outils de zonage de gestion de l’eau.","code":""},{"path":"/articles/LiDAR.html","id":"quest-ce-que-le-lidar","dir":"Articles","previous_headings":"","what":"Qu’est-ce que le LiDAR?","title":"Données LiDAR et agriculture de précision","text":"Le LiDAR (Light Detection Ranging) est une technologie de télédétection qui utilise des impulsions laser pour mesurer la distance entre un capteur et la surface de la Terre. En agriculture de précision, les données LiDAR permettent de : Reconstituer un modèle du terrain (DTM – Digital Terrain Model) Identifier les dépressions, pentes et zones humides Modéliser le ruissellement, l’érosion et la variabilité du sol Guider l’aménagement de zones tampon, de drainage ou de parcelles de culture","code":""},{"path":"/articles/LiDAR.html","id":"le-modèle-de-surface-vs--le-modèle-de-terrain","dir":"Articles","previous_headings":"","what":"Le modèle de surface vs. le modèle de terrain","title":"Données LiDAR et agriculture de précision","text":"MNE (Digital Surface Model) : inclut les bâtiments, arbres, etc. MNT (Digital Terrain Model) : représente uniquement le sol","code":""},{"path":"/articles/LiDAR.html","id":"utiliser-la-fonction-lidar","dir":"Articles","previous_headings":"","what":"Utiliser la fonction lidar()","title":"Données LiDAR et agriculture de précision","text":"La fonction lidar() permet d’interroger automatiquement les données LiDAR disponibles sur le service STAC de Ressources naturelles Canada, de les recadrer à une zone d’intérêt, et de les sauvegarder si souhaité.","code":""},{"path":"/articles/LiDAR.html","id":"exemple-dutilisation","dir":"Articles","previous_headings":"Utiliser la fonction lidar()","what":"Exemple d’utilisation","title":"Données LiDAR et agriculture de précision","text":"Chaque élément de la liste retournée correspond à un raster pour une année donnée.","code":"# Télécharger et recadrer les modèles de surface (MNT) pour un champ library(rgeoag) resultats <- lidar(champs_exemple,                     dossier = NULL,                    recent= FALSE,                    mne = FALSE) resultats #> [[1]] #> class       : SpatRaster  #> dimensions  : 1768, 1317, 1  (nrow, ncol, nlyr) #> resolution  : 1, 1  (x, y) #> extent      : 1714581, 1715898, -49025, -47257  (xmin, xmax, ymin, ymax) #> coord. ref. : NAD83(CSRS) / Canada Atlas Lambert (EPSG:3979)  #> source(s)   : memory #> varname     : 2021  #> name        :     2021  #> min value   : 41.33249  #> max value   : 48.61332  #>  #> [[2]] #> class       : SpatRaster  #> dimensions  : 1768, 1317, 1  (nrow, ncol, nlyr) #> resolution  : 1, 1  (x, y) #> extent      : 1714581, 1715898, -49025, -47257  (xmin, xmax, ymin, ymax) #> coord. ref. : NAD83(CSRS) / Canada Atlas Lambert (EPSG:3979)  #> source(s)   : memory #> varname     : 2011  #> name        :     2011  #> min value   : 41.14948  #> max value   : 48.23417"},{"path":"/articles/LiDAR.html","id":"visualisation-des-résultats","dir":"Articles","previous_headings":"","what":"🖼️ Visualisation des résultats","title":"Données LiDAR et agriculture de précision","text":"Vous pouvez visualiser le modèle en utilisant terra::plot() ou en intégrant le raster dans une carte interactive avec leaflet.  peut également utiliser la fonction geom_topo, qui permet de visualiser la topographie en ggplot  En tant que couche ggplot, il est facile ensuite de personnaliser la carte.","code":"terra::plot(resultats[[1]]) ggplot2::ggplot() +   geom_topo(resultats[[1]],             intervalle = .3,             ombrage = TRUE) ggplot2::ggplot() +   ggspatial::annotation_map_tile(zoomin =0,progress = \"none\")+   geom_topo(resultats[[1]],             intervalle = .3,             ombrage = TRUE) +    ggspatial::annotation_scale()+   ggplot2::theme_void()+   ggplot2::labs(title = \"Modèle numérique de terrain dérivé du LiDAR 2021\")"},{"path":"/articles/Sentinel2.html","id":"introduction","dir":"Articles","previous_headings":"","what":"🛰️ Introduction","title":"Extraction d'indices Sentinel-2","text":"L’imagerie Sentinel-2 offre une résolution spatiale et temporelle précieuse pour le suivi de la santé des cultures. Cette vignette montre comment extraire automatiquement un indice de végétation NDVI pour un champ, à partir de la plateforme Planetary Computer. Nous illustrons ici une extraction du NDVI pour l’été 2024 (juin à août), avec un seuil de couverture nuageuse.","code":""},{"path":"/articles/Sentinel2.html","id":"chargement-du-champ-dexemple","dir":"Articles","previous_headings":"","what":"📥 Chargement du champ d’exemple","title":"Extraction d'indices Sentinel-2","text":"","code":"champ <- champs_exemple |> dplyr::slice(1) |> sf::st_sf() |> st_utm() plot(st_geometry(champ))"},{"path":"/articles/Sentinel2.html","id":"récupération-du-ndvi-sentinel-2-été-2024","dir":"Articles","previous_headings":"","what":"📡 Récupération du NDVI Sentinel-2 (été 2024)","title":"Extraction d'indices Sentinel-2","text":"","code":"ndvi <- sentinel2(   polygone = champ,   annee_debut = 2024,   annee_fin = 2024,   mois = 6:8,   indice = \"NDVI\",   max_nuage = 20 )"},{"path":"/articles/Sentinel2.html","id":"visualisation-du-ndvi","dir":"Articles","previous_headings":"","what":"🖼️ Visualisation du NDVI","title":"Extraction d'indices Sentinel-2","text":"","code":"plot(ndvi)"},{"path":"/articles/Sentinel2.html","id":"remarques","dir":"Articles","previous_headings":"","what":"💡 Remarques","title":"Extraction d'indices Sentinel-2","text":"La fonction sentinel2() interroge directement les catalogues STAC du Planetary Computer de Microsoft. Les images sont filtrées selon la proportion de nuages dans la parcelle. L’utilisateur peut aussi choisir d’autres indices (GNDVI, EVI, KNDVI). Cette approche facilite l’analyse temporelle automatisée pour des parcelles multiples dans un contexte de monitoring de cultures ou de diagnostic de stress hydrique ou nutritionnel.","code":""},{"path":"/articles/zones de gestion.html","id":"pourquoi-créer-des-zones-de-gestion","dir":"Articles","previous_headings":"","what":"🌾 Pourquoi créer des zones de gestion?","title":"Création de zones de gestion","text":"La création de zones de gestion permet d’adapter les pratiques agricoles (fertilisation, semis, irrigation, etc.) aux caractéristiques spatiales d’un champ. Cela favorise une meilleure utilisation des intrants, une augmentation des rendements et une réduction des impacts environnementaux.","code":""},{"path":"/articles/zones de gestion.html","id":"continuité-spatiale","dir":"Articles","previous_headings":"🌾 Pourquoi créer des zones de gestion?","what":"🔁 Continuité spatiale","title":"Création de zones de gestion","text":"Dans notre approche, nous favorisons la création de zones spatialement contiguës. Cela facilite la mise en œuvre pratique sur le terrain (ex. : prescriptions machines), réduit les transitions abruptes et reflète mieux la structure naturelle du sol et des cultures.","code":""},{"path":"/articles/zones de gestion.html","id":"chargement-des-données-dexemple","dir":"Articles","previous_headings":"","what":"📥 Chargement des données d’exemple","title":"Création de zones de gestion","text":"","code":"# Charger un exemple de champ inclus dans le package champ <- champs_exemple |>    dplyr::slice(1) |>   sf::st_sf() |>    st_utm()  plot(st_geometry(champ))"},{"path":"/articles/zones de gestion.html","id":"récupération-des-données-lidar","dir":"Articles","previous_headings":"","what":"📡 Récupération des données LiDAR","title":"Création de zones de gestion","text":"","code":"# Télécharger automatiquement le LiDAR le plus récent r_lidar <- lidar(champ, recent = TRUE)[[1]]"},{"path":"/articles/zones de gestion.html","id":"ndvi-sentinel-2-pour-lété-2024","dir":"Articles","previous_headings":"","what":"🛰️ NDVI Sentinel-2 pour l’été 2024","title":"Création de zones de gestion","text":"","code":"# Extraction du NDVI (juin à août 2024) ndvi <- sentinel2(champ, annee_debut = 2024, annee_fin = 2024, mois = 6:8, indice = \"NDVI\", max_nuage = 50)"},{"path":"/articles/zones de gestion.html","id":"création-des-zones-de-gestion","dir":"Articles","previous_headings":"","what":"🧪 Création des zones de gestion","title":"Création de zones de gestion","text":"","code":"# Sélectionner les couches utiles raster_liste <- list(ndvi, r_lidar)  # Préparation des superpixels zones_prepa <- preparation_zones(raster_liste, k_supercell = 300) s_poly <- zones_prepa$s_polygone poids <- zones_prepa$poids df <- zones_prepa$donnees"},{"path":"/articles/zones de gestion.html","id":"regroupement-avec-skater","dir":"Articles","previous_headings":"","what":"🧩 Regroupement avec SKATER","title":"Création de zones de gestion","text":"","code":"zones_sf <- zones(s_poly, w = poids, df = df, n_zones = 4, superficie_min = 10000)"},{"path":"/articles/zones de gestion.html","id":"visualisation","dir":"Articles","previous_headings":"","what":"🖼️ Visualisation","title":"Création de zones de gestion","text":"Ce processus peut être automatisé pour plusieurs champs, intégré à une interface Shiny ou combiné avec des recommandations d’intrants.","code":"ggplot(zones_sf) +   geom_sf(aes(fill = factor(cl)), color = \"white\") +   scale_fill_brewer(palette = \"Set3\") +   theme_minimal() +   labs(title = \"Zones de gestion spatiales\", fill = \"Zone\")"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Cédric Bouffard. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bouffard C (2025). rgeoag: Outils pour l’Agriculture de Précision au Québec. R package version 0.1.0.","code":"@Manual{,   title = {rgeoag: Outils pour l’Agriculture de Précision au Québec},   author = {Cédric Bouffard},   year = {2025},   note = {R package version 0.1.0}, }"},{"path":[]},{"path":"/index.html","id":"id_-fonctions-de-géomatique-agricole","dir":"","previous_headings":"","what":"📦 Fonctions de géomatique agricole","title":"rgeoag - Géomatique Agricole – Québec","text":"Ce package R regroupe une collection de fonctions utilitaires pour l’analyse spatiale appliquée à l’agriculture de précision au Québec. Il inclut des outils pour : le traitement de données LiDAR, Sentinel-2, et raster agricoles ; la génération de grilles orientées, rectangles, et réseaux de lignes ; la création de fichiers de nivellement compatibles ; la segmentation spatiale en zones de gestion .","code":""},{"path":[]},{"path":"/index.html","id":"id_-installation","dir":"","previous_headings":"","what":"🔧 Installation","title":"rgeoag - Géomatique Agricole – Québec","text":"","code":"# install.packages(\"devtools\") devtools::install_github(\"cedricbouffard/rgeoag\")"},{"path":"/index.html","id":"id_-exemple","dir":"","previous_headings":"","what":"🧪 Exemple","title":"rgeoag - Géomatique Agricole – Québec","text":"","code":"library(rgeoag)  champ <- sf::st_read(\"champ.shp\") |> st_utm() grille <- st_grille(champ, largeur = 10, longueur = 5) plot(sf::st_geometry(grille))"},{"path":"/index.html","id":"id_-contexte","dir":"","previous_headings":"","what":"🌱 Contexte","title":"rgeoag - Géomatique Agricole – Québec","text":"Ce package est conçu pour faciliter les analyses en géomatique agricole au Québec, notamment dans : la modélisation agro-environnementale ; la gestion de la variabilité intra-champ ; la création de recommandations géospatiales (fertilisation, semis, drainage, etc.) ; l’intégration des données Sentinel, LiDAR, et MultiPlane.","code":""},{"path":"/reference/aligner_rasters.html","id":null,"dir":"Reference","previous_headings":"","what":"Aligner, lisser, tronquer et normaliser une liste de rasters — aligner_rasters","title":"Aligner, lisser, tronquer et normaliser une liste de rasters — aligner_rasters","text":"Cette fonction prend une liste de rasters (`SpatRaster`), applique un lissage médian optionnel, aligne tous les rasters à la résolution la plus fine, tronque les valeurs extrêmes et normalise chaque couche si désiré.","code":""},{"path":"/reference/aligner_rasters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aligner, lisser, tronquer et normaliser une liste de rasters — aligner_rasters","text":"","code":"aligner_rasters(   raster_liste,   noms = NULL,   fenetre_focale = 1,   normaliser = FALSE )"},{"path":"/reference/aligner_rasters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aligner, lisser, tronquer et normaliser une liste de rasters — aligner_rasters","text":"raster_liste Liste de `SpatRaster` (terra) à traiter noms (optionnel) Noms à assigner aux couches combinées fenetre_focale Taille du filtre médian (>1 applique un lissage) normaliser Logique. Si TRUE, normalise chaque couche entre 0 et 1 après troncature","code":""},{"path":"/reference/aligner_rasters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aligner, lisser, tronquer et normaliser une liste de rasters — aligner_rasters","text":"Un `SpatRaster` combiné, aligné, tronqué et normalisé (optionnellement)","code":""},{"path":"/reference/creer_rectangles.html","id":null,"dir":"Reference","previous_headings":"","what":"Créer des rectangles orientés à partir de centroïdes — creer_rectangles","title":"Créer des rectangles orientés à partir de centroïdes — creer_rectangles","text":"Cette fonction génère des rectangles orientés à partir de points centroïdes. Chaque rectangle est défini par sa longueur, sa largeur et un angle de rotation.","code":""},{"path":"/reference/creer_rectangles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Créer des rectangles orientés à partir de centroïdes — creer_rectangles","text":"","code":"creer_rectangles(centroides, longueur, largeur, angle = 0)"},{"path":"/reference/creer_rectangles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Créer des rectangles orientés à partir de centroïdes — creer_rectangles","text":"centroides Un objet `sf` de type POINT, représentant les centroïdes longueur Longueur des rectangles (côté le plus long avant rotation) largeur Largeur des rectangles (côté le plus court avant rotation) angle Angle de rotation en degrés, dans le sens antihoraire depuis l’axe des x (par défaut : 0)","code":""},{"path":"/reference/creer_rectangles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Créer des rectangles orientés à partir de centroïdes — creer_rectangles","text":"Un objet `sf` contenant les rectangles orientés (`POLYGON`)","code":""},{"path":"/reference/geom_topo.html","id":null,"dir":"Reference","previous_headings":"","what":"Générer une carte topographique avec effets d’ombrage et lignes de contour — geom_topo","title":"Générer une carte topographique avec effets d’ombrage et lignes de contour — geom_topo","text":"Cette fonction crée une carte topographique à partir d’un raster d’élévation, avec la possibilité d’ajouter un effet d’ombrage (hillshade) et des lignes de contours selon un intervalle spécifié.","code":""},{"path":"/reference/geom_topo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Générer une carte topographique avec effets d’ombrage et lignes de contour — geom_topo","text":"","code":"geom_topo(raster_elevation, intervalle = NULL, ombrage = TRUE)"},{"path":"/reference/geom_topo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Générer une carte topographique avec effets d’ombrage et lignes de contour — geom_topo","text":"raster_elevation Un objet `SpatRaster` ou un chemin vers un fichier `.tif` intervalle (optionnel) Intervalle pour les lignes de contour (en mètres) ombrage Logique. Si TRUE, ajoute un effet d’ombrage","code":""},{"path":"/reference/geom_topo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Générer une carte topographique avec effets d’ombrage et lignes de contour — geom_topo","text":"Une liste de couches ggplot à ajouter à une carte","code":""},{"path":"/reference/indice_humidite.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculer les métriques topographiques d'humidité — indice_humidite","title":"Calculer les métriques topographiques d'humidité — indice_humidite","text":"Cette fonction calcule l'indice d'humidité topographique (TWI), la profondeur des dépressions, l'accumulation de flux et les formes du terrain (géomorphons) à partir d'un MNT ou MNE.","code":""},{"path":"/reference/indice_humidite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculer les métriques topographiques d'humidité — indice_humidite","text":"","code":"indice_humidite(raster_mnt, dossier = NULL, prefixe = \"\")"},{"path":"/reference/indice_humidite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculer les métriques topographiques d'humidité — indice_humidite","text":"raster_mnt Un objet `SpatRaster` ou un chemin vers un fichier `.tif` dossier Chemin du dossier de sortie (facultatif) prefixe Préfixe pour les noms de fichiers exportés (si `dossier` est défini)","code":""},{"path":"/reference/indice_humidite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculer les métriques topographiques d'humidité — indice_humidite","text":"Un objet `SpatRaster` avec les couches \"Geomorphons\", \"TWI\", \"Depression\" et \"Accumulation\"","code":""},{"path":"/reference/lidar.html","id":null,"dir":"Reference","previous_headings":"","what":"Télécharger et recadrer les données LiDAR pour une zone donnée — lidar","title":"Télécharger et recadrer les données LiDAR pour une zone donnée — lidar","text":"Cette fonction interroge l'API STAC de RNCan pour télécharger les données LiDAR (MNE ou MNT) correspondant à une géométrie fournie, puis les recadre à cette zone d’intérêt.","code":""},{"path":"/reference/lidar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Télécharger et recadrer les données LiDAR pour une zone donnée — lidar","text":"","code":"lidar(polygone, dossier = NULL, mne = FALSE, recent = FALSE)"},{"path":"/reference/lidar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Télécharger et recadrer les données LiDAR pour une zone donnée — lidar","text":"polygone Un objet `sf` représentant la zone d’intérêt ou un chemin vers un fichier vectoriel (`.shp`, `.gpkg`, etc.) dossier Dossier de sortie pour enregistrer les fichiers raster (optionnel) mne Logique. Si TRUE, télécharge le MNE (modèle de surface). Sinon, le MNT. recent Logique. Si TRUE, conserve uniquement la version la plus récente","code":""},{"path":"/reference/lidar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Télécharger et recadrer les données LiDAR pour une zone donnée — lidar","text":"Une liste de `SpatRaster` (un par année)","code":""},{"path":"/reference/multiplane_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Convertir un fichier MultiPlane en objet sf — multiplane_sf","title":"Convertir un fichier MultiPlane en objet sf — multiplane_sf","text":"Cette fonction lit un fichier texte MultiPlane (issu d’un levé GPS ou station totale) et le convertit en un objet `sf` avec projection WGS84. Les coordonnées sont calculées à partir d’un point de référence.","code":""},{"path":"/reference/multiplane_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convertir un fichier MultiPlane en objet sf — multiplane_sf","text":"","code":"multiplane_sf(fichier, imperial = TRUE)"},{"path":"/reference/multiplane_sf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convertir un fichier MultiPlane en objet sf — multiplane_sf","text":"fichier Chemin vers le fichier texte MultiPlane (tabulations) imperial Logique. Si TRUE, les distances sont en pieds (sinon en mètres)","code":""},{"path":"/reference/multiplane_sf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convertir un fichier MultiPlane en objet sf — multiplane_sf","text":"Un objet `sf` avec les colonnes `elevation`, `code` et `geometry`","code":""},{"path":"/reference/preparation_zones.html","id":null,"dir":"Reference","previous_headings":"","what":"Préparer les superpixels et données pour les zones de gestion — preparation_zones","title":"Préparer les superpixels et données pour les zones de gestion — preparation_zones","text":"Cette fonction aligne une liste de rasters, applique un lissage optionnel, crée des superpixels (supercells), calcule les poids spatiaux et génère un tableau de données avec les superficies.","code":""},{"path":"/reference/preparation_zones.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Préparer les superpixels et données pour les zones de gestion — preparation_zones","text":"","code":"preparation_zones(   raster_liste,   k_supercell = 1000,   fenetre_focale = 3,   normaliser = TRUE,   methode_resample = \"bilinear\" )"},{"path":"/reference/preparation_zones.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Préparer les superpixels et données pour les zones de gestion — preparation_zones","text":"raster_liste Liste de `SpatRaster` k_supercell Nombre de superpixels à générer fenetre_focale Taille du filtre médian (>1 applique un lissage) normaliser Logique. Si TRUE, normalise les rasters entre 0 et 1 methode_resample Méthode de rééchantillonnage (ex : \"bilinear\", \"near\")","code":""},{"path":"/reference/preparation_zones.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Préparer les superpixels et données pour les zones de gestion — preparation_zones","text":"Une liste contenant : s_polygone Les superpixels (`sf`) poids Les poids spatiaux (`rgeoda`) donnees Données tabulaires sans géométrie","code":""},{"path":"/reference/raccourcir_lignes.html","id":null,"dir":"Reference","previous_headings":"","what":"Raccourcir des lignes en interpolant les extrémités — raccourcir_lignes","title":"Raccourcir des lignes en interpolant les extrémités — raccourcir_lignes","text":"Cette fonction permet de raccourcir une ou plusieurs lignes `LINESTRING` en retirant une distance au début, à la fin, ou aux deux extrémités. Elle conserve une géométrie valide en interpolant les points.","code":""},{"path":"/reference/raccourcir_lignes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Raccourcir des lignes en interpolant les extrémités — raccourcir_lignes","text":"","code":"raccourcir_lignes(lignes, distance, extremite = c(\"debut\", \"fin\"))"},{"path":"/reference/raccourcir_lignes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Raccourcir des lignes en interpolant les extrémités — raccourcir_lignes","text":"lignes Objet `sf` contenant des géométries `LINESTRING` distance Distance à retirer (en unités du système de coordonnées) extremite Choix de l’extrémité à couper : \"debut\", \"fin\" ou `c(\"debut\", \"fin\")`","code":""},{"path":"/reference/raccourcir_lignes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Raccourcir des lignes en interpolant les extrémités — raccourcir_lignes","text":"Un objet `sf` avec les lignes raccourcies","code":""},{"path":"/reference/rectangle_oriente_min.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculer le rectangle orienté minimal autour d'un polygone — rectangle_oriente_min","title":"Calculer le rectangle orienté minimal autour d'un polygone — rectangle_oriente_min","text":"Cette fonction retourne le plus petit rectangle orienté (MBR) qui entoure un polygone. Elle retourne la géométrie du rectangle, son angle, sa longueur et sa largeur.","code":""},{"path":"/reference/rectangle_oriente_min.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculer le rectangle orienté minimal autour d'un polygone — rectangle_oriente_min","text":"","code":"rectangle_oriente_min(polygone)"},{"path":"/reference/rectangle_oriente_min.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculer le rectangle orienté minimal autour d'un polygone — rectangle_oriente_min","text":"polygone Un objet `sf` de type POLYGON ou MULTIPOLYGON","code":""},{"path":"/reference/rectangle_oriente_min.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculer le rectangle orienté minimal autour d'un polygone — rectangle_oriente_min","text":"Une liste contenant : rectangle Le rectangle orienté (`sf`) angle Angle d’orientation en degrés longueur Longueur du rectangle largeur Largeur du rectangle","code":""},{"path":"/reference/reseau_lignes_paralleles.html","id":null,"dir":"Reference","previous_headings":"","what":"Créer un réseau de lignes parallèles orientées à partir d'un angle ou d'une ligne — reseau_lignes_paralleles","title":"Créer un réseau de lignes parallèles orientées à partir d'un angle ou d'une ligne — reseau_lignes_paralleles","text":"Cette fonction génère un réseau de lignes parallèles soit : - selon un angle donné ou calculé automatiquement à partir d’un polygone; - à partir d’une ligne de départ, qui sert à définir l'angle et le point de référence.","code":""},{"path":"/reference/reseau_lignes_paralleles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Créer un réseau de lignes parallèles orientées à partir d'un angle ou d'une ligne — reseau_lignes_paralleles","text":"","code":"reseau_lignes_paralleles(   polygone,   angle = NULL,   largeur = 20,   coin = \"SO\",   ligne = NULL )"},{"path":"/reference/reseau_lignes_paralleles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Créer un réseau de lignes parallèles orientées à partir d'un angle ou d'une ligne — reseau_lignes_paralleles","text":"polygone Objet `sf` de type POLYGON ou MULTIPOLYGON. angle (optionnel) Angle en degrés. Sera ignoré si `ligne` est fourni. largeur Espacement entre les lignes. coin Coin d’ancrage pour angle : `\"\"`, `\"SE\"`, `\"NE\"`, `\"\"` (par défaut `\"\"`) ligne (optionnel) Une `LINESTRING` (ou `sf` contenant une seule ligne) pour servir de base","code":""},{"path":"/reference/reseau_lignes_paralleles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Créer un réseau de lignes parallèles orientées à partir d'un angle ou d'une ligne — reseau_lignes_paralleles","text":"Un objet `sf` contenant le réseau de lignes + la ligne de base (si fournie)","code":""},{"path":"/reference/sentinel2.html","id":null,"dir":"Reference","previous_headings":"","what":"Télécharger et calculer un indice de végétation Sentinel-2 pour une parcelle — sentinel2","title":"Télécharger et calculer un indice de végétation Sentinel-2 pour une parcelle — sentinel2","text":"Cette fonction interroge le Planetary Computer pour obtenir des images Sentinel-2 L2A, filtre selon la couverture nuageuse, calcule un indice de végétation (NDVI, GNDVI, EVI, KNDVI, NDRE) et retourne une stack raster avec les valeurs de l'indice sélectionné.","code":""},{"path":"/reference/sentinel2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Télécharger et calculer un indice de végétation Sentinel-2 pour une parcelle — sentinel2","text":"","code":"sentinel2(   polygone,   dossier = NULL,   annee_debut = 2018,   annee_fin = NULL,   max_nuage = 50,   mois = 3:11,   nuage_dans_la_parcelle = 5,   indice = \"NDVI\" )"},{"path":"/reference/sentinel2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Télécharger et calculer un indice de végétation Sentinel-2 pour une parcelle — sentinel2","text":"polygone Un objet `sf` ou un chemin vers un fichier vectoriel (shapefile, geojson, etc.) dossier (optionnel) Dossier dans lequel enregistrer les fichiers raster (.tif) annee_debut Année de début (par défaut `2018`) annee_fin Année de fin (par défaut : année courante) max_nuage Pourcentage maximal de nuages (0 à 100) selon les métadonnées mois Mois d'intérêt (entiers entre 1 et 12) nuage_dans_la_parcelle Proportion maximale de nuages dans la parcelle (0–100), ou `FALSE` pour désactiver indice Indice de végétation à calculer (`\"NDVI\"`, `\"GNDVI\"`, `\"EVI\"`, `\"KNDVI\"`, , `\"NDRE\"`)","code":""},{"path":"/reference/sentinel2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Télécharger et calculer un indice de végétation Sentinel-2 pour une parcelle — sentinel2","text":"Un objet `SpatRaster` contenant l'indice de végétation par date","code":""},{"path":"/reference/sf_multiplane.html","id":null,"dir":"Reference","previous_headings":"","what":"Convertir des points sf en fichier texte MultiPlane — sf_multiplane","title":"Convertir des points sf en fichier texte MultiPlane — sf_multiplane","text":"Cette fonction convertit un objet `sf` contenant des points en format tabulé compatible avec MultiPlane, à partir d’un point de référence (benchmark). Les distances X/Y et l’altitude sont calculées par rapport au benchmark.","code":""},{"path":"/reference/sf_multiplane.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convertir des points sf en fichier texte MultiPlane — sf_multiplane","text":"","code":"sf_multiplane(   points,   benchmark,   colonne_z = \"Z\",   colonne_code = \"Code\",   fichier_sortie,   altitude_benchmark = 0,   imperial = FALSE )"},{"path":"/reference/sf_multiplane.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convertir des points sf en fichier texte MultiPlane — sf_multiplane","text":"points Objet `sf` avec les points à convertir benchmark Objet `sf` contenant un seul point de référence colonne_z Nom de la colonne pour l’altitude colonne_code Nom de la colonne indiquant les codes de contours fichier_sortie Chemin du fichier `.txt` à générer altitude_benchmark Altitude du point de référence (par défaut : 0) imperial Logique. Si TRUE, convertit les unités en pieds","code":""},{"path":"/reference/sf_multiplane.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convertir des points sf en fichier texte MultiPlane — sf_multiplane","text":"Un `tibble` contenant les données formatées pour MultiPlane","code":""},{"path":"/reference/st_grille.html","id":null,"dir":"Reference","previous_headings":"","what":"Générer une grille orientée selon un polygone — st_grille","title":"Générer une grille orientée selon un polygone — st_grille","text":"Cette fonction crée une grille de polygones alignée à l'enveloppe orientée minimale d’un polygone. Elle permet d’indiquer un angle, une largeur, une longueur, un coin d’origine, un décalage en quinconce, et de restreindre les cellules à celles qui croisent ou sont contenues dans le polygone.","code":""},{"path":"/reference/st_grille.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Générer une grille orientée selon un polygone — st_grille","text":"","code":"st_grille(   polygone,   angle = NULL,   largeur = 100,   longueur = 100,   coin = \"SO\",   quinconce = FALSE,   decouper = TRUE,   points = FALSE )"},{"path":"/reference/st_grille.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Générer une grille orientée selon un polygone — st_grille","text":"polygone Objet `sf` de type POLYGON ou MULTIPOLYGON angle Angle d’orientation en degrés. Si NULL, il est déduit automatiquement. largeur Largeur des cellules (axe court) longueur Longueur des cellules (axe long, optionnel) coin Coin de départ : \"\", \"SE\", \"NE\" ou \"\" quinconce Logique : grille en quinconce (TRUE/FALSE) decouper Logique : découper les cellules au bord du polygone points Logique : retourner les centroïdes au lieu des polygones","code":""},{"path":"/reference/st_grille.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Générer une grille orientée selon un polygone — st_grille","text":"Un objet `sf` avec les colonnes `ligne`, `colonne`, et `geometry`","code":""},{"path":"/reference/st_utm.html","id":null,"dir":"Reference","previous_headings":"","what":"Reprojeter un objet sf dans la bonne zone UTM — st_utm","title":"Reprojeter un objet sf dans la bonne zone UTM — st_utm","text":"Cette fonction détecte automatiquement la zone UTM appropriée en fonction du centroïde d’un objet `sf`, puis transforme la géométrie vers ce système de coordonnées métriques (UTM).","code":""},{"path":"/reference/st_utm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reprojeter un objet sf dans la bonne zone UTM — st_utm","text":"","code":"st_utm(x)"},{"path":"/reference/st_utm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reprojeter un objet sf dans la bonne zone UTM — st_utm","text":"x Un objet `sf` à reprojeter","code":""},{"path":"/reference/st_utm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reprojeter un objet sf dans la bonne zone UTM — st_utm","text":"Un objet `sf` reprojeté dans la zone UTM correspondante","code":""},{"path":"/reference/topo_lidar.html","id":null,"dir":"Reference","previous_headings":"","what":"Générer un fichier pour les logiciels de nivellement à partir d’un polygone et du LiDAR — topo_lidar","title":"Générer un fichier pour les logiciels de nivellement à partir d’un polygone et du LiDAR — topo_lidar","text":"Cette fonction extrait les points de bordure et une grille intérieure depuis un polygone, interroge un raster LiDAR pour obtenir les altitudes, puis exporte les données en format texte compatible avec les logiciels de nivellement.","code":""},{"path":"/reference/topo_lidar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Générer un fichier pour les logiciels de nivellement à partir d’un polygone et du LiDAR — topo_lidar","text":"","code":"topo_lidar(   polygone,   fichier_sortie,   raster_lidar = NULL,   imperial = FALSE,   bm = NULL,   bm_elev = NULL,   densite_bordure = 3,   largeur = 7,   longueur = 3,   multiplane = FALSE )"},{"path":"/reference/topo_lidar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Générer un fichier pour les logiciels de nivellement à partir d’un polygone et du LiDAR — topo_lidar","text":"polygone Un objet `sf` de type POLYGON (doit contenir un seul polygone) fichier_sortie Chemin du fichier texte de sortie raster_lidar Un objet `SpatRaster` (optionnel). Si NULL, la fonction `lidar()` est utilisée. imperial Logique : TRUE pour exporter les distances en pieds bm Objet `sf` optionnel : point de référence (benchmark) bm_elev Altitude du point de référence (optionnelle) densite_bordure Distance entre les points sur la bordure (en mètres) largeur Largeur des cellules de la grille intérieure (en mètres) longueur Longueur des cellules de la grille intérieure (en mètres) multiplane Logique : TRUE pour générer un fichier MultiPlane (utilise `sf_multiplane`)","code":""},{"path":"/reference/topo_lidar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Générer un fichier pour les logiciels de nivellement à partir d’un polygone et du LiDAR — topo_lidar","text":"Un `data.frame` avec les points exportés, écrit dans un fichier texte","code":""},{"path":"/reference/zones.html","id":null,"dir":"Reference","previous_headings":"","what":"Générer des zones de gestion à partir de superpixels — zones","title":"Générer des zones de gestion à partir de superpixels — zones","text":"Cette fonction applique l’algorithme SKATER sur des superpixels et leurs poids spatiaux, afin de générer des zones de gestion respectant une contrainte de superficie minimale.","code":""},{"path":"/reference/zones.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Générer des zones de gestion à partir de superpixels — zones","text":"","code":"zones(s_poly, w, df, n_zones = 5, superficie_min = 10000)"},{"path":"/reference/zones.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Générer des zones de gestion à partir de superpixels — zones","text":"s_poly Objet `sf` contenant les superpixels w Objet de poids spatiaux (issu de `rgeoda::knn_weights` ou équivalent) df Tableau de données associé, sans géométrie, incluant la colonne `area` n_zones Nombre de zones de gestion souhaitées superficie_min Surface minimale par zone (en mètres carrés)","code":""},{"path":"/reference/zones.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Générer des zones de gestion à partir de superpixels — zones","text":"Un objet `sf` représentant les zones fusionnées par groupe","code":""}]
